<!-- Quote Request Modal -->
<div class="modal fade" id="modalQuoteRequest" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Request a Quote for {{ product.title }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="quote-request-form" novalidate>
          <div class="form-group">
            <label for="quote-first-name">First Name *</label>
            <input
              type="text"
              id="quote-first-name"
              name="first_name"
              class="form-control"
              required
              placeholder="Enter your first name"
            >
            <div class="invalid-feedback">First name is required.</div>
          </div>
          <div class="form-group">
            <label for="quote-last-name">Last Name *</label>
            <input
              type="text"
              id="quote-last-name"
              name="last_name"
              class="form-control"
              required
              placeholder="Enter your last name"
            >
            <div class="invalid-feedback">Last name is required.</div>
          </div>
          <div class="form-group">
            <label for="quote-email">Email *</label>
            <input
              type="email"
              id="quote-email"
              name="email"
              class="form-control"
              required
              placeholder="Enter your email"
            >
            <div class="invalid-feedback">A valid email is required.</div>
          </div>
          <div class="form-group">
            <label for="quote-phone">Phone *</label>
            <input
              type="tel"
              id="quote-phone"
              name="phone"
              class="form-control"
              required
              placeholder="Enter your phone number"
              pattern="[0-9]{10,15}"
            >
            <div class="invalid-feedback">Please enter a valid phone number (10-15 digits).</div>
          </div>
          <input
            type="hidden"
            name="product_title"
            value="{{ product.title | escape }}"
          >
          <input
            type="hidden"
            name="collection_handle"
            value="{% for collection in product.collections %}{{ collection.handle }}{% break %}{% endfor %}"
          >
          <button type="submit" class="btn btn-lg btn-primary" id="quote-submit-btn">
            <span class="btn-text">Submit Quote Request</span>
            <span class="btn-loading" style="display: none;">Loading...</span>
          </button>
        </form>
        <div id="quote-form-message" class="mt-3"></div>
      </div>
    </div>
  </div>
</div>